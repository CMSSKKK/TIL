# 소프트웨어 개발 보안 구축

* Secure SDLC(Software Development Life Cycle)
  * 보안상 안전한 소프트웨어를 개발하기 위해 소프트웨어 개발 생명주기에 보안 강화를 위한 프로세스를 포함한 것
* 주요 보안 요소 3가지
  * 기밀성 : 시스템 내의 정보와 자원은 인가된 사용자아게만 접근이 허용되고 정보가 전송 중에 노출되더라도 내용을 읽을 수 있다.
  * 무결성 : 시스템 내의 정보는 오직 인가된 사용자만 수정 가능하다.
  * 가용성 : 인가 받은 사용자는 언제든지 사용 가능하다.
* 크로스 사이트 스크립팅(XSS)
  * 웹페이지에 악의적인 스크립트를 삽입하여 방문자들의 정보를 탈취하거나 비정상적인 기능 수행을 유발하는 보안 약점
* 소프트웨어 개발 구현 단계에서 보안검사를 우회하여 적절한 인증과정없이 중요한 정보 또는 기능에 접근하거나 변경하는 등의 보안 약점을 방지하기 위한 방법 서술
  * 중요정보나 기능을 수행하는 페이지에서 재인증 기능을 수행하도록 하여 방지한다.
* 오류 상황에 대한 대응 부재
  * 소프트웨어 개발 중 예외처리를 하지 않았거나 미비로 인해 발생하는 보안 약점이며, 예외처리를 하지 않은 오류들로 인해 소프트웨어의 실행이 중단되거나 의도를 벗어난 동작이 유도될 수 있다.
  * 오류가 발생할 수 있는 부분에 예외처리 구문을 작성하고, 제어문을 활용하여 오류가 악용되지 않도록 코딩함으로써 방지가 가능하다.
* 세션 : 서버와 클라이언트의 연결을 의미
* 세션 통제 : 세션의 연결과 연결로 인해 발생하는 정보를 관리하는 것
* 세션 통제의 보안 약점 
  * 불충분한 세션 관리
    * 일정한 규칙이 존재하는 세션ID가 발급되는 경우
    * 타임아웃이 너무 길게 설정되어 있는 경우
  * 잘못된 세션에 의한 정보 노출
* 비밀키(개인키) 암호화 알고리즘
  * 암호화 및 복호화 할 때 사용하는 키가 같아서 대칭키 암호기법
  * 장점은 암호화와 복호화 속도가 빠르며, 알고리즘이 단순하다.
  * 단점은 사용자의 증가에 따라 관리해야 할 키의 수가 상대적으로 많다
* ARIA
  * 양방향 암호화 알고리즘 중 하나
  * 2004년 국가정보원과 산학연이 협력하여 개발한 블록 암호화 알고리즘
  * 블록 크기는 128비트이며, 키 길이에 다라 128, 192, 256으로 분류
* 부적절한 자원 해제
  * 자원을 반환하는 코드를 누락하거나 프로그램 오류로 할당된 자원을 반환하지 못했을 때 발생하는 보안 약점
* 패키지내 클래스 구현시 Public 메소드로 Private 배열을 반환하는 경우 발생할 수 있는 문제점
  * Public 메소드로 인해 Private 배열의 주소가 외부로 공개되어 외부에서 접근할 수 있게 된다.
* API 오용으로 발생할 수 있는 보안 약점 
  * DNS Lookup에 의한 보안 결정
    * 도메인명에 의존하여 인증이나 접근 통제 등의 보안 결정을 내리는 경우 발생하는 보안 약점이다.
    * DNS 엔트리를 속여 동일한 도메인에 속한 서버인 것처럼 위장하거나, 사용자와 서버 간의 네트워크 트래픽을 유도하여 악성 사이틀 경유하도록 조작할 수 있다.
    * DNS 검색을 통해 도메인 이름으로 비교하지 않고 IP 주소를 직접 입력하여 접근함으로써 방지 가능하다.
  * 취약한 API 사용

-------

* 인증 : 시스템 내의 정보와 자원을 사용하려는 사용자가 합법적인 사용자인지를 확인하는 모든 행위
* 부인 방지 : 데이터를 송수신한 자가 송수신 사실을 부인할 수 없도록 송수신 증거를 제공함
* DOS 공격
  * 시스템을 악의적으로 공격해 해당 시스템의 자원을 부족하게 하여 원래 의도된 용도로 사용하지 못하게 하는 공격
  * 지역 시스템 공격/ 원격 네트워크 공격
* DDOS 공격
  * 공격자를 분산 배치하여 동시에 특정 시스템을 공격하는 기법
  * 구성요소 : 핸들러. 에이전트, 마스터, 공격자, 데몬 프로그램
  * 공격 대응 방안 : 보안 솔루션 운영, 차단 정책 업데이트, 시스템 패치
* XSS
  * 검증되지 않은 외부 입력 데이터가 포함된 웹페이지가 전송되는 경우, 사용자가 해당 웹페이지를 열람함으로써 웹페이지에 포함된 부적절한 스크립트가 실행되는 공격
* SQL 삽입
  * 공격자가 입력한 데이터에 대한 유효성을 점검하지 않아 DB쿼리 로직이 변경되어 정보 유출 또는 DB의 변경을 가하는 공격
* CSRF
  * 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위를 특정 웹사이트에 요청하게 하는 공격
* 자원 고갈 공격
  * SYN 플러딩 : TCP 프로토콜의 구조적 문제를 이용한 공격, SYN패킷만 보냄
  * UDP 플러딩 : 대량의 UDP 패킷 생성하여 자원을 고갈시키는 공격
  * 스머프 또는 스머핑 : 출발지 주소를 공격 대상의 IP로 설정하여 네트워크 전체에 ICMP Echo 패킷을 브로드캐스팅하여 마비시키는 공격으로 제3의 사이트를 이용해 공격하는 공격기법
  * PoD : 큰 사이즈의 패킷을 의도적으로 목표시스템으로 발생 시켜 시스템이 서비스할 수 없는 상태로 만드는 공격
* 애플리케이션 공격
  * HTTP GET 플러딩 : Chache Control Attack ->Chaching 서버 유도
  * Slowloris : HTTP GET 메서드, 개행
  * 루디 : 요청 헤더의 Content-length를 비정상적으로 크게 설정하여 메시지 바디 부분을 매우 소량으로 보내 계속 연결 상태를 유지시키는 공격
* 네트워크 서비스 공격
  * 네트워크 스캐너, 스니퍼 : 보안 취약점 파악 -> 공격 도구
  * 패스워드 크래킹 : 사전 크래킹과 무차별 크래킹 사용
  * IP 수푸핑 : IP address 위조
  * 트로이 목마 : 정상적인 기능을 하는 프로그램인 척 위장하여 해당 프로그램 동작시 부작용을 일으키는 공격 기법
* 취약점 공격
  * 랜드 어택 : 출발지 IP와 목적지 IP를 같은 패킷 주소로 만들어 보냄으로써 수신자가 자기 자신에게 응답을 보내게 하여 시스템의 가용성을 침해하는 공격기법
  * 티어 드롭 : IP 패킷의 재조합 과정에서 잘못된 Fragment Offset 정보로 인해 수신시스템이 문제를 발생하도록 만드는 Dos rhdrur
  * 봉크/보잉크 : 프로토콜의 오류 제어를 이용한 공격 기법(시퀀스 번호)
* 암호 및 알고리즘
  * 대칭키 = 비밀키
    * 블록암호
      * DES : 54비트의 키와 64비트의 블록
      * AES : DES를 대체하는 알고리즘
      * SEED : KISA 구현, 고속 블록, 128비트
      * ARIA
      * IDEA : DES를 대체하기 위함, 스위스
    * 스트림 암호 방식
      * RC4
      * LFSR : 선형 함수로 계산
      * SEAL
  * 비대칭키 = 공개키
    * 디피 헬만
    * RSA : 소인수 분해의 어려움을 이용하여 암호화
    * ECC : RSA 암호 방식의 대안, 타원 곡선 암호
    * Elgamal : 이산대수
  * 해시
    * SHA-1: 미국 표준 DSA에서 사용
    * SHA-256/384/512
    * MD5 : 128비트 해시 알고리즘 (MD4 대체), 프로그램이나 파일의 무결성 검사에 사용
    * HAS-160 : 국내 표준 서명 알고리즘을 위해 개발된 해시 함수
* SSL 
  * 응용 계층과 TCP/IP 계층 사이에서 웹 데이터 암호화 및 전송시 기밀성을 보장하는 공개키 기반의 보안 프로토콜
* IPSec
  * IP 계층에서 무결성과 인증을 보장하는 인증 헤더와 기밀성을 보장하는 암호화를 이용한 IP 보안 프로토콜
  * 인증, 암호화, 키 관리 프로토콜로 구성
* S-HTTP 
  * 웹상에서 네트워크 트래픽을 암호화하는 주요 방법, 클라이언트와 서버 간 전송되는 모든 메시지를 각각 암호화해 전송하는 기술
* 일방향 암호화 
  * 암호화 수행은 하지만 절대로 복호화가 불가능한 알고리즘
* 솔트(Salt) 
  * 일방향 해시 함수에서 다이제스트를 생성할 경우 추가되는 임의의 문자열
  * 소금이 기본 양념이듯 원문에 가미하여 암호문을 다른 값으로 만드는 것
  * 문자열의 앞 뒤에 난수생성을 통해 작성된 특정 문자열을 끼어넣은 상태로 해시를 돌림
* 세션 하이재킹
  * 세션을 가로채어 정상적인 인증 절차를 무시하고 불법적으로 시스템 접속
* 시큐어 코딩 가이드
  * 입력 데이터 검증 및 표현
  * 보안 기능
  * 시간 및 상태
  * 에러 처리
  * 코드 오류
  * 캡슐화
  * API 오용

------

* 자산 : 조직의 데이터
* 위협 : 조직이나 기업의 자산에 악영향을 끼칠 수 있는 사건이나 행위
* 취약점 : 위협이 발생하기 위한 사전 조건
* 위험 : 위협이 취약점을 이용해 조직의 자산 손실 피해를 가져올 가능성





**▶ 네트워크 보안 솔루션**

⦁  방화벽(Firewall) : 기업 내부, 외부 간 트래픽을 모니터링 하여 시스템의 접근을 허용하거나 차단하는 시스템

⦁  웹 방화벽 (WAF; Web Application Firewall)

⦁  네트워크 접근 제어(NAC; Network Access Control) : 단말기가 내부 네트워크에 접속을 시도할 때 이를 제어하고 통제하는 기능을 제공하는 솔루션

⦁  침입 탐지 시스템(IDS; Intrusion Detection System) : 네트워크에 발생하는 이벤트를 모니터링하고, 침입을 실시간으로 탐지하는 시스템

⦁  침입 방지 시스템(IPS; Intrusion Prevention System) : 네트워크에 대한 공격이나 침입을 실시간적으로 차단하는 시스템

⦁  무선 침입 방지 시스템(WIPS; Wireless Intrusion Prevention System) : 무선 단말기의 접속을 자동 탐지

⦁  통합 보안 시스템(UTM; Unified Threat Management) : 다양한 보안 장비의 기능을 하나로 통합한 장비

⦁  가상사설망(VPN; Virtual Private Network) : 인터넷과 같은 공중망에 인증, 암호화, 터널링 기술을 활용해 마치 전용망을 사용하는 효과를 가지는 보안 솔루션

 

**▶ 콘텐츠 유출 방지 솔루션**

⦁  데이터 유출 방지(DLP; Data Loss Prevention) : 조직 내부의 중요 자료가 외부로 빠져나가는 것을 탐지하고 차단

⦁  디지털 저작권 관리(DRM; Digital Right Management) : 디지털 저작물에 대한 보호와 관리 솔루션

 

**▶ 비즈니스 연속성 계획(BCP; Business Continuity Plan)**

각종 재해, 장애, 재난으로부터 위기관리를 기반으로 재해복구, 업무복구 및 재개, 비상계획 등을 통해 비스니스 연속성을 보장하는 체계

 

**▶ 비즈니스 연속성 계획 관련 주요 용어**

⦁  BIA(Business Impact Analysis) : 장애나 재해로 인한 운영상의 주요 손실을 볼 것을 가정하여 비즈니스 영향 분석

⦁  RTO(Recovery Time Objective) : 업무중단 시점부터 업무가 복구되어 다시 가동될 때까지의 시간

⦁  RPO(Recovery Point Objective) : 업무중단 시점부터 데이터가 복구되어 다시 정상 가동될 때 데이터의 손실 허용 시점

⦁  DRP(Disaster Recovery Plan) : 재난으로 장기간에 걸쳐 시설의 운영이 불가능한 경우를 대비한 재난 복구 계획

⦁  DRS(Disaster Recovery System) : 재해 복구 센터

 

**▶ DRS의 유형**

⦁  Mirror Site : 재해 발생 시 복구까지의 소요 시간(RTO)은 즉시

⦁  Hot Site : 4시간 이내

⦁  Warm Site : 수일 ~ 수주

⦁  Cold Site : 수주 ~ 수개월

 

**▶ 보안 공격 관련 중요 용어**

⦁  워터링 홀(Watering Hole) : 특정인이 잘 방문하는 웹 사이트에 악성코드를 심는 공격기법

⦁  토르 네트워크 : 네트워크 경로를 알 수 없도록 암호화 기법을 사용하여 데이터를 전송하며, 익명으로 인터넷을 사용할 수 있는 가상 네트워크

⦁  핑거 프린팅 : 멀티미디어 콘텐츠에 저작권 정보와 구매한 사용자 정보를 삽입해 콘텐츠 불법 배포자에 대한 위치 주적이 가능한 기술

⦁  CWE : 미국 비영리 회사인 MITRE 사가 중심이 되어 소프트웨어에서 공통적으로 발생하는 약점을 체계적으로 분류한 목록

⦁  디렉토리 리스팅(Listing) 취약점 : 공격자가 서버 내의 모든 디렉토리 및 파일 목록을 볼 수 있는 취약점

⦁  부 채널 공격(Side Channel Attack) : 암호화 알고리즘의 물리적 특성을 측정 해 내부 비밀정보를 획득

⦁  드라이브 바이 다운로드(Drive By Download) : 해커가 불특정 웹 서버와 웹 페이지에 악성 스크립트를 설치하고, 불특정 사용자 접속 시 사용자 동의 없이 실행되어 의도된 서버로 연결하여 감염시킴